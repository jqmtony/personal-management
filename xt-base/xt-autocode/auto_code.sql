/*
 Navicat Premium Data Transfer

 Source Server         : 192.168.1.220
 Source Server Type    : MySQL
 Source Server Version : 50630
 Source Host           : 192.168.1.220
 Source Database       : auto_code

 Target Server Type    : MySQL
 Target Server Version : 50630
 File Encoding         : utf-8

 Date: 11/11/2016 14:40:45 PM
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
--  Table structure for `back_user`
-- ----------------------------
DROP TABLE IF EXISTS `back_user`;
CREATE TABLE `back_user` (
  `username` varchar(20) NOT NULL COMMENT '用户名',
  `password` varchar(50) NOT NULL COMMENT '密码',
  `add_time` datetime NOT NULL COMMENT '添加时间',
  PRIMARY KEY (`username`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- ----------------------------
--  Records of `back_user`
-- ----------------------------
BEGIN;
INSERT INTO `back_user` VALUES ('aaaa', '123456', '2015-01-05 11:52:26'), ('admin', '123123', '2014-06-24 10:12:49');
COMMIT;

-- ----------------------------
--  Table structure for `datasource_config`
-- ----------------------------
DROP TABLE IF EXISTS `datasource_config`;
CREATE TABLE `datasource_config` (
  `dc_id` int(11) NOT NULL AUTO_INCREMENT,
  `driver_class` varchar(50) DEFAULT NULL COMMENT '数据库驱动',
  `db_name` varchar(50) DEFAULT NULL,
  `ip` varchar(50) DEFAULT NULL,
  `port` int(11) DEFAULT NULL,
  `username` varchar(50) DEFAULT NULL,
  `password` varchar(50) DEFAULT NULL,
  `back_user` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`dc_id`)
) ENGINE=InnoDB AUTO_INCREMENT=7 DEFAULT CHARSET=utf8;

-- ----------------------------
--  Records of `datasource_config`
-- ----------------------------
BEGIN;
INSERT INTO `datasource_config` VALUES ('5', 'com.mysql.jdbc.Driver', 'centnet_anfs', '127.0.0.1', '3306', 'root', 'root', 'admin'), ('6', 'com.mysql.jdbc.Driver', 'centnet_anfs1.0.7', '127.0.0.1', '3306', 'root', 'root', 'admin');
COMMIT;

-- ----------------------------
--  Table structure for `template_config`
-- ----------------------------
DROP TABLE IF EXISTS `template_config`;
CREATE TABLE `template_config` (
  `tc_id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(50) DEFAULT NULL,
  `save_path` varchar(100) DEFAULT NULL,
  `suffix` varchar(20) DEFAULT NULL,
  `file_name` varchar(50) DEFAULT NULL,
  `content` text,
  `back_user` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`tc_id`),
  KEY `f_backuser` (`back_user`)
) ENGINE=InnoDB AUTO_INCREMENT=39 DEFAULT CHARSET=utf8 COMMENT='模板表';

-- ----------------------------
--  Records of `template_config`
-- ----------------------------
BEGIN;
INSERT INTO `template_config` VALUES ('8', 'Model', '${context.packageName}/model', 'java', '${context.javaBeanName}.java', 'package ${context.packageName}.model;\n\nimport com.fasterxml.jackson.annotation.JsonFormat;\nimport java.io.Serializable;\nimport java.util.Date;\n\n/**\n * ${table.comment}\n *\n * Created by ${author} on ${.now?string(\"yyyy-M-d\")}.\n */\npublic class ${context.javaBeanName} implements Serializable{\n<#list columns as column >\n	/**\n     * ${column.comment}\n     */\n	private ${column.javaType} ${column.javaFieldName};\n</#list>\n\n<#list columns as column >\n	public void set${column.javaFieldNameUF}(${column.javaType} ${column.javaFieldName}){\n		this.${column.javaFieldName} = ${column.javaFieldName};\n	}\n\n	public ${column.javaType} get${column.javaFieldNameUF}(){\n		return this.${column.javaFieldName};\n	}\n</#list>\n}', 'admin'), ('9', 'ServiceImpl', '${context.packageName}/service', 'java', '${context.javaBeanName}ServiceImpl.java', 'package ${context.packageName}.service;\n\nimport com.centnet.base.service.BaseService;\nimport org.springframework.stereotype.Service;\nimport com.centnet.base.dao.BaseDao;\nimport com.centnet.base.service.BaseServiceImpl;\nimport javax.annotation.Resource;\nimport ${context.packageName}.model.${context.javaBeanName};\n\n/**\n* ${table.comment}的服务层实现类\n* Created by ${author} on ${.now?string(\"yyyy-M-d\")}.\n*/\n@Service\npublic class ${context.javaBeanName}ServiceImpl extends BaseServiceImpl<${context.javaBeanName}> implements ${context.javaBeanName}Service {\n    @Resource\n    private ${context.javaBeanName}Dao ${context.javaBeanNameLF}Dao;\n\n    @Override\n    protected BaseDao<${context.javaBeanName}> getDao() {\n        return ${context.javaBeanNameLF}Dao;\n    }\n    \n    @Transactional\n    @Override\n    public int batchDelete(Long[] ids){\n    	return ${context.javaBeanNameLF}Dao.batchDelete(ids);\n    }\n    \n}\n', 'admin'), ('10', 'Service', '${context.packageName}/service', 'java', '${context.javaBeanName}Service.java', 'package ${context.packageName}.service;\n\nimport com.centnet.base.service.BaseService;\nimport ${context.packageName}.model.${context.javaBeanName};\n/**\n* ${table.comment}的服务层接口\n* Created by ${author} on ${.now?string(\"yyyy-M-d\")}.\n*/\npublic interface ${context.javaBeanName}Service extends BaseService<${context.javaBeanName}> {\n\n	/**\n    * 批量删除${table.comment}\n    * \n    * @param ids ${table.comment}id数组\n    */\n	int batchDelete(Long[] ids);\n}', 'admin'), ('14', 'Controller', '${context.packageName}/controller', 'java', '${context.javaBeanName}Controller.java', 'package ${context.packageName}.controller;\n\nimport com.centnet.base.pagination.Pager;\nimport com.centnet.base.web.libs.controller.BaseController;\nimport org.springframework.stereotype.Controller;\nimport ${context.packageName}.model.${context.javaBeanName};\nimport ${context.packageName}.service.${context.javaBeanName}Service;\nimport javax.annotation.Resource;\nimport javax.validation.Valid;\nimport org.springframework.ui.Model;\n\n/**\n* ${table.tableName}的Controller\n* Created by ${author} on ${.now?string(\"yyyy-M-d\")}.\n*/\n@Controller\n@RequestMapping(\"${context.javaBeanNameLF}\")\npublic class ${context.javaBeanName}Controller extends BaseController{\n\n    @Resource\n    private ${context.javaBeanName}Service ${context.javaBeanNameLF}Service;\n\n    /**\n    * 跳转分页页面\n    *\n    * @return\n    */\n    @RequestMapping(value = \"paging\", method = RequestMethod.GET)\n    public String toPaginationPage() {\n        return \"${context.javaBeanNameLF}/${context.javaBeanNameLF}-pagination\";\n    }\n\n    /**\n    * 分页查询\n    *\n    * @return\n    */\n    @ResponseBody\n    @RequestMapping(value = \"paging\", method = RequestMethod.POST)\n    public AjaxResult paging(${context.javaBeanName}Vo ${context.javaBeanNameLF}Vo) {\n        Pager<${context.javaBeanName}> page = ${context.javaBeanNameLF}Service.findPage(${context.javaBeanNameLF}Vo);\n        return new AjaxResult(true, page);\n    }\n\n    /**\n    * 创建${context.javaBeanName}\n    *\n    * @param ${context.javaBeanNameLF}\n    * @return\n    */\n    @ResponseBody\n    @RequestMapping(value = \"create\", method = RequestMethod.POST)\n    public AjaxResult create(@Valid ${context.javaBeanName} ${context.javaBeanNameLF}) {\n        ${context.javaBeanNameLF}.setCreateBy(getPrincipalId());\n        ${context.javaBeanNameLF}Service.insert(${context.javaBeanNameLF});\n        return new AjaxResult(true);\n    }\n\n    /**\n    * 根据id获取${context.javaBeanName}\n    *\n    * @param id id\n    * @return\n    */\n    @ResponseBody\n    @RequestMapping(value = \"get\", method = RequestMethod.GET)\n    public AjaxResult get(long id) {\n        ${context.javaBeanName} bean = ${context.javaBeanNameLF}Service.get(id);\n        return new AjaxResult(true, bean);\n    }\n\n    /**\n    * 编辑${context.javaBeanName}\n    *\n    * @param ${context.javaBeanNameLF}\n    * @return\n    */\n    @ResponseBody\n    @RequestMapping(value = \"goEdit\", method = RequestMethod.POST)\n        public AjaxResult edit(@Valid ${context.javaBeanName} ${context.javaBeanNameLF}) {\n        ${context.javaBeanNameLF}.setUpdateBy(getPrincipalId());\n        ${context.javaBeanNameLF}Service.update(${context.javaBeanNameLF});\n        return new AjaxResult(true);\n    }\n\n    /**\n    * 删除${context.javaBeanName}\n    *\n    * @param id\n    * @return\n    */\n    @ResponseBody\n    @RequestMapping(value = \"delete\", method = RequestMethod.POST)\n    public AjaxResult delete(Long id) {\n        int deleted = ${context.javaBeanNameLF}Service.delete(id);\n        if( deleted > 0 ){\n        	return new AjaxResult(true);\n        }\n        return new AjaxResult(false,\"删除失败，请重试！\");\n    }\n    \n    /**\n    * 批量删除${context.javaBeanName}\n    *\n    * @param ids\n    * @return\n    */\n    @ResponseBody\n    @RequestMapping(value = \"batchDelete\", method = RequestMethod.POST)\n    public AjaxResult delete(@RequestParam(name = \"ids[]\", required = false, defaultValue = \"\") Long[] ids) {\n        int deleted ${context.javaBeanNameLF}Service.batchDelete(ids);\n        if( deleted > 0 && ids.length == deleted ){\n        	return new AjaxResult(true);\n        }\n        return new AjaxResult(false,\"有\"+(ids.length - deleted)+\"个资源删除失败，请重试！\");\n    }\n\n\n}', 'admin'), ('17', 'Mapper', '${context.packageName}/dao', 'java', '${context.javaBeanName}Dao.xml', '<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\" >\n<mapper namespace=\"${context.packageName}.dao.${context.javaBeanName}Dao\">\n\n   \n    <sql id=\"columns\">\n        <#list columns as column>\n		${column.columnName}<#if column_has_next>,</#if>\n        </#list>\n    </sql>\n\n    <resultMap id=\"queryResultMap\" type=\"${context.packageName}.model.${context.javaBeanName}\">\n        <#list columns as column>\n		<result column=\"${column.columnName}\" property=\"${column.javaFieldName}\" jdbcType=\"${column.mybatisJdbcType}\"<#if column.mybatisJdbcType == \"TINYINT\"> typeHandler=\"com.centnet.base.dao.typehandler.NameCodeEnumHandler\"</#if>/>\n        </#list>\n    </resultMap>\n\n    <insert id=\"insert\" parameterType=\"${context.packageName}.model.${context.javaBeanName}\" keyProperty=\"${context.javaPkName}\" keyColumn=\"${context.pkName}\" useGeneratedKeys=\"true\">\n    	INSERT INTO ${table.tableName}(\n        <#list columns as column>\n            <#if !column.isPk>\n     		${column.columnName}<#if column_has_next>,</#if>\n            </#if>\n        </#list>\n    	)\n    	VALUES (\n    <#list columns as column>\n    <#if !column.isPk>\n        <#if column.columnName ==\"create_time\">\n            now()<#if column_has_next>,</#if>\n        <#else>\n            ${r\"#{\"}${column.javaFieldName},jdbcType=${column.mybatisJdbcType}<#if column.mybatisJdbcType == \"TINYINT\">,typeHandler=com.centnet.base.dao.typehandler.NameCodeEnumHandler</#if>}<#if column_has_next>,</#if>\n        </#if>\n    </#if>\n    </#list>\n    	)\n    </insert>\n\n\n    <update id=\"update\" parameterType=\"${context.packageName}.model.${context.javaBeanName}\">\n        UPDATE ${table.tableName}\n        <set>\n        <#list columns as column>\n            <#if !column.isPk && column.columnName != \"create_time\">\n            <if test=\"${column.javaFieldName} != null\">\n                <#if column.columnName == \"update_time\">\n            update_time=now()<#if column_has_next>,</#if>\n                <#else>\n            ${column.columnName}=${r\"#{\"}${column.javaFieldName},jdbcType=${column.mybatisJdbcType}<#if column.mybatisJdbcType == \"TINYINT\">,typeHandler=com.centnet.base.dao.typehandler.NameCodeEnumHandler</#if>}<#if column_has_next>,</#if>\n                </#if>\n            </if>\n            </#if>\n        </#list>\n        </set>\n        WHERE ${context.pkName} = ${r\"#{\"}${context.javaPkName},jdbcType=${context.mybatisPkType}}\n    </update>\n\n    <select id=\"findPage\" parameterType=\"${context.packageName}.model.${context.javaBeanName}\" resultMap=\"queryResultMap\">\n        SELECT\n        <include refid=\"columns\"/>\n        from ${table.tableName}\n    </select>\n\n\n    <select id=\"findById\" resultMap=\"queryResultMap\">\n        SELECT\n        <include refid=\"columns\"/>\n        FROM ${table.tableName}\n        WHERE ${context.pkName} = ${r\"#{\"}${context.javaPkName}}\n    </select>\n    \n    <delete id=\"delete\">\n        DELETE FROM ${table.tableName} \n        WHERE id=${r\"#{\"}id}\n    </delete>\n    \n    <delete id=\"batchDelete\" >\n    	delete from ${table.tableName}\n        where id in <foreach collection=\"ids\" open=\"(\" close=\")\" item=\"item\" separator=\",\">${r\"#{\"}item}</foreach>\n    </delete>\n\n</mapper>', 'admin'), ('18', 'Vo', '${context.packageName}/model', 'java', '${context.javaBeanName}Vo.java', 'package ${context.packageName}.model;\n\nimport ${context.packageName}.model.${context.javaBeanName};\nimport com.centnet.base.pagination.PageQueryVo;\n\n/**\n* ${table.comment}的数据传输对象\n* Created by ${author} on ${.now?string(\"yyyy-M-d\")}.\n*/\npublic class ${context.javaBeanName}Vo extends PageQueryVo{\n\n}\n', 'admin'), ('19', 'HTML-create', 'web', 'jsp', '${context.javaBeanNameLF}-create.html', '<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\n     data-backdrop=\"static\" data-keyboard=\"false\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span\n                        aria-hidden=\"true\">&times;</span></button>\n                <h4 class=\"modal-title\" id=\"exampleModalLabel\">创建${table.comment}</h4>\n            </div>\n            <!-- BEGIN FORM-->\n            <form action=\"${context.javaBeanNameLF}/create\" class=\"form-horizontal\" id=\"createForm\">\n                <div class=\"modal-body\">\n                    <div class=\"form-body\">\n                        <div class=\"alert alert-danger display-hide\">\n                            <button class=\"close\" data-close=\"alert\"></button>\n                            验证失败，请校验后重新输入\n                        </div>\n                        <div class=\"alert alert-success display-hide\">\n                            <button class=\"close\" data-close=\"alert\"></button>\n                            验证成功\n                        </div>\n                        <#list columns as column>\n                        <#if column.isPk>\n                        	<input type=\"hidden\" name=\"${column.javaFieldName}\"/>\n                        <#else>\n                        <div class=\"form-group form-md-line-input\">\n                            <label class=\"col-md-3 control-label\">${column.comment}：\n                                <span class=\"required\">*</span>\n                            </label>\n                            <div class=\"col-md-9\">\n                                <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"${column.javaFieldName}\">\n                                <div class=\"form-control-focus\"></div>\n                                <span class=\"help-block\"></span>\n                            </div>\n                        </div>\n                        </#if>\n                        </#list>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\n                    <button type=\"submit\" class=\"btn btn-primary\">提交</button>\n                </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>', 'admin'), ('23', 'HTML-edit', 'web', null, '${context.javaBeanNameLF}-edit.html', '<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\n     data-backdrop=\"static\" data-keyboard=\"false\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span\n                        aria-hidden=\"true\">&times;</span></button>\n                <h4 class=\"modal-title\" id=\"exampleModalLabel\">编辑${table.comment}</h4>\n            </div>\n            <!-- BEGIN FORM-->\n            <form action=\"/permission/role/edit\" class=\"form-horizontal\" id=\"editForm\">\n                <input type=\"hidden\" name=\"id\"/>\n                <div class=\"modal-body\">\n                    <div class=\"form-body\">\n                        <div class=\"alert alert-danger display-hide\">\n                            <button class=\"close\" data-close=\"alert\"></button>\n                            验证失败，请校验后重新输入\n                        </div>\n                        <div class=\"alert alert-success display-hide\">\n                            <button class=\"close\" data-close=\"alert\"></button>\n                            验证成功\n                        </div>\n                        <#list columns as column>\n                        <#if column.isPk>\n                        	<input type=\"hidden\" name=\"${column.javaFieldName}\"/>\n                        <#elseif column.columnName == \"create_time\" || column.columnName == \"update_time\" >\n						<div class=\"form-group form-md-line-input\">\n                            <label class=\"col-md-3 control-label\">${column.comment}：\n                            </label>\n                            <div class=\"col-md-9\">\n                                <input name=\"${column.javaFieldName}\" class=\"form-control\" disabled/>\n                            </div>\n                        </div>\n                        <#else>\n                        <div class=\"form-group form-md-line-input\">\n                            <label class=\"col-md-3 control-label\">${column.comment}：\n                                <span class=\"required\">*</span>\n                            </label>\n                            <div class=\"col-md-9\">\n                                <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"${column.javaFieldName}\">\n                                <div class=\"form-control-focus\"></div>\n                                <span class=\"help-block\"></span>\n                            </div>\n                        </div>\n                        </#if>\n                        </#list>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\n                    <button type=\"submit\" class=\"btn btn-primary\">提交</button>\n                </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>', 'admin'), ('24', 'HTML-pagination', 'web', null, '${context.javaBeanNameLF}-pagination.html', '<div class=\"row\">\n    <div class=\"col-md-12\">\n        <!-- BEGIN EXAMPLE TABLE PORTLET-->\n        <div class=\"portlet\">\n        	<div class=\"portlet-title\">\n                <form role=\"form\" id=\"queryForm\">\n                    <div class=\"form-body\">\n                        	<#list columns as column>\n                                <#if !column.isPk>\n                                <#if column_index % 2 != 0 || column_index ==0>\n						<div class=\"row\">\n                                </#if>\n							<div class=\"col-md-4\">\n								<div class=\"form-group form-md-line-input has-success form-md-floating-label\">\n									<input type=\"text\" class=\"form-control input-sm\" name=\"${column.javaFieldName}\" id=\"${column.javaFieldName}\" <#if column.javaFieldName == \"createTime\" >onfocus=\"WdatePicker({dateFmt:\'yyyy-MM-dd\',maxDate:\'#F{$dp.$D(\\\'updateTime\\\')}\'});\"<#elseif column.javaFieldName == \"updateTime\" >onfocus=\"WdatePicker({dateFmt:\'yyyy-MM-dd\',minDate:\'#F{$dp.$D(\\\'createTime\\\')}\'});\"<#elseif column.columnName?index_of(\"time\") != -1>onfocus=\"WdatePicker({dateFmt:\'yyyy-MM-dd HH:mm\'});\"<#elseif column.columnName?index_of(\"date\") != -1>onfocus=\"WdatePicker();\"</#if>/>\n										<label for=\"${column.javaFieldName}\">${column.comment}</label>\n								</div>\n							</div>\n                                <#if column_index % 2 == 0 && column_index != 0 || !column_has_next>\n                          </div>\n                                </#if>\n                                </#if>\n                            </#list>\n                    </div>\n                    <div class=\"form-actions noborder\">\n                        <button type=\"submit\" class=\"btn blue btn-outline\">查询</button>\n                        <button type=\"reset\" class=\"btn blue btn-outline\">重置</button>\n                        <button id=\"batchDisabledBtn\" class=\"btn blue btn-outline\">批量冻结\n                        </button>\n                        <button id=\"batchEnabledBtn\" class=\"btn blue btn-outline\">批量解冻\n                        </button>\n                        <button id=\"addBtn\" class=\"btn blue btn-outline\" onclick=\"${context.javaBeanName}.create${context.javaBeanName}();\">添加\n                        </button>\n                    </div>\n                </form>\n            </div>\n            <div class=\"portlet-body\">\n                <div class=\"table-scrollable\">\n                    <table id=\"grid-data\"\n                           class=\"table table-striped table-bordered table-hover table-checkable order-column dataTable no-footer\">\n                        <thead>\n                        <tr>\n                            <#list columns as column>\n                                <#if column.isPk>\n                            <th data-column-id=\"${column.javaFieldName}\" data-type=\"numeric\" data-identifier=\"true\" data-order=\"desc\">ID</th>\n                                <#elseif column.mybatisJdbcType == \"TINYINT\">\n                            <th data-column-id=\"${column.javaFieldName}.name\">${column.comment}</th>\n                                <#else>\n                            <th data-column-id=\"${column.javaFieldName}\">${column.comment}</th>\n                                </#if>\n                            </#list>\n                            <th data-formatter=\"optFormatter\" data-sortable=\"false\">操作</th>\n                        </tr>\n                        </thead>\n                    </table>\n                </div>\n            </div>\n        </div>\n        <!-- END EXAMPLE TABLE PORTLET-->\n    </div>\n</div>\n\n\n<script src=\"${ctx}/public/js/business/${context.javaBeanName}.js\"></script>\n<script>\n    $(function () {\n        ${context.javaBeanName}.initGrid(\'#grid-data\');\n    });\n</script>\n\n', 'admin'), ('28', 'HTML-info', 'web', null, '${context.javaBeanNameLF}-info.html', '<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\n     data-backdrop=\"static\" data-keyboard=\"false\">\n    <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span\n                        aria-hidden=\"true\">&times;</span></button>\n                <h4 class=\"modal-title\" id=\"exampleModalLabel\">${table.comment}详情</h4>\n            </div>\n            <!-- BEGIN FORM-->\n            <form class=\"form-horizontal\" id=\"infoForm\">\n                <input type=\"hidden\" name=\"id\"/>\n                <div class=\"modal-body\">\n                    <div class=\"form-body\">\n                        <#list columns as column>\n                        <#if column.isPk>\n                        	<input type=\"hidden\" name=\"${column.javaFieldName}\"/>\n                        <#else>\n                        <div class=\"form-group form-md-line-input\">\n                            <label class=\"col-md-3 control-label\">${column.comment}：\n                            </label>\n                            <div class=\"col-md-9\">\n								<div class=\"col-md-9\">\n									<p class=\"form-control-static\" name=\"${column.javaFieldName}\"></p>\n								</div>\n                            </div>\n                        </div>\n                        </#if>\n                        </#list>\n                </div>\n                <div class=\"modal-footer\">\n                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\n                </div>\n                </div>\n            </form>\n        </div>\n    </div>\n</div>', 'admin'), ('29', 'JS', 'web/public/js/business', null, '${context.javaBeanName}.js', 'var ${context.javaBeanName} = function () {\n\n    var basePath = ROOT_PATH + \'${context.javaBeanNameLF}/\',\n        pagePath = ROOT_PATH + \'pages/permission/${context.javaBeanNameLF}/\',\n        $dataGrid = null,\n        $dialog = null;\n\n    function initGrid(gridId) {\n        var gid = gridId || \'#grid-data\';\n        $dataGrid = $(gid).bootgrid({\n            url: basePath + \"paging\",\n            formatters: {\n                \"optFormatter\": function (column, row) {\n                    return \'<a href=\"javascript:${context.javaBeanName}.edit${context.javaBeanName}(\' + row.id + \')\" class=\"btn blue btn-outline bt-sm\">编辑</a>\' +\n                        \'<a href=\"javascript:${context.javaBeanName}.getInfo(\' + row.id + \')\" class=\"btn blue btn-outline bt-sm\">详情</a>\';\n                }\n            }\n        });\n    }\n\n    /**\n     * 编辑\n     */\n    function edit${context.javaBeanName}(id) {\n        $.Get(pagePath + \'${context.javaBeanNameLF}-edit.html\', function (page) {\n            $dialog = $(page);\n            var $form = $dialog.find(\'form:first\');\n            $dialog.modal().on(\'hidden.bs.modal\',function(){\n                //页面关闭时,删除加载的页面。\n                $dialog.clean();\n            });\n            $.Get(basePath + \'get\', {id: id}, function (data) {\n                if (data) {\n                    FormUtils.setValues($form, data.data);\n                } else {\n                    Dialog.danger(\"${table.comment}不存在\");\n                }\n            });\n            validate($form);\n        })\n    }\n\n\n    /**\n     * 创建${table.tableName} \n     */\n    function create${context.javaBeanName}() {\n        $.Get(pagePath + \'${context.javaBeanNameLF}-create.html\', function (page) {\n            $dialog = $(page);\n            var $form = $dialog.find(\'form:first\');\n            validate($form);\n            $dialog.modal().on(\'hidden.bs.modal\',function(){\n                //页面关闭时,删除加载的页面。\n                $dialog.clean();\n            });\n        });\n    }\n\n    /**\n     * 查看详情\n     * @param id\n     */\n    function getInfo(id){\n        $.Get(pagePath + \'${context.javaBeanNameLF}-info.html\', function (page) {\n            $dialog = $(page);\n            var $form = $dialog.find(\'form:first\');\n            $dialog.modal().on(\'hidden.bs.modal\',function(){\n                //页面关闭时,删除加载的页面。\n                $dialog.clean();\n            });\n            $.Get(basePath + \'get\', {id: id}, function (data) {\n                if (data) {\n                    FormUtils.setValues($form, data.data);\n                } else {\n                    Dialog.danger(\"${table.comment}不存在\");\n                }\n            });\n        })\n    }\n\n    function validate(formId) {\n        var $form = $(formId);\n        FormUtils.validate($form, {\n            rules: {\n                <#list columns as column>\n                <#if column.length gt 0>\n                    ${column.javaFieldName}:{\n                        maxlength:${column.length}\n                    }<#if column_has_next>,</#if>\n                </#if>\n                </#list>\n            },\n            submitHandler: function (form) {\n                $.Ajax({\n                    url: $(form).attr(\"action\"),\n                    data: FormUtils.getFormObj(form),\n                    container: \'.modal-content\',\n                    success: function (r) {\n                        $dialog.modal(\'hide\');\n                        $dataGrid.bootgrid(\'reload\');\n                        Dialog.success(\'操作成功\');\n                    }\n                });\n                return false;\n            }\n        });\n    }\n\n\n    return {\n\n        initGrid: initGrid,\n        create${context.javaBeanName}: create${context.javaBeanName},\n        edit${context.javaBeanName}: edit${context.javaBeanName},\n        getInfo: getInfo\n    }\n}();', 'admin'), ('30', 'Dao', '${context.packageName}/dao', null, '${context.javaBeanName}Dao.java', 'package ${context.packageName}.${context.javaBeanNameLF}.dao;\n\nimport com.centnet.base.dao.BaseDao;\nimport ${context.packageName}.model.${context.javaBeanName};\nimport org.apache.ibatis.annotations.Param;\n\n/**\n* ${table.comment}dao\n* Created by ${author} on ${.now?string(\"yyyy-M-d\")}.\n*/\npublic interface ${context.javaBeanName}Dao extends BaseDao<${context.javaBeanName}> {\n	\n    /**\n    * 批量删除${table.comment}\n    * \n    * @param ids ${table.comment}id数组\n    */\n	int batchDelete(@Param(\"ids\") Long[] ids);\n}', 'admin'), ('31', 'easyui-pagination', 'web', null, '${context.javaBeanNameLF}-pagination.html', '<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n</head>\n<body>\n<div id=\"mainLayout\" class=\"easyui-layout hidden\" data-options=\"fit: true\">\n    <div data-options=\"region:\'center\',split:true,border:false,title:\'${table.comment}列表\'\">\n        <div id=\"tb\" style=\"padding:5px;height:auto\">\n            <div>\n                <a href=\"javascript:;\" class=\"easyui-linkbutton\" id=\"refreshBtn\" plain=\"true\"\n                   iconCls=\"icon-standard-arrow-refresh\">刷新</a>\n                <span class=\"toolbar-item dialog-tool-separator\"></span>\n                <a href=\"#\" class=\"easyui-linkbutton\" iconCls=\"icon-add\" plain=\"true\"\n                   onclick=\"${context.javaBeanName}.create();\">添加</a>\n                <a href=\"#\" class=\"easyui-linkbutton\" iconCls=\"icon-remove\" plain=\"true\" data-options=\"disabled:false\"\n                   onclick=\"${context.javaBeanName}.batchDelete()\">批量删除</a>\n            </div>\n        </div>\n        <table id=\"dataGridDg\"/>\n        </table>\n        <div id=\"createDl\"></div>\n        <div id=\"editDl\"></div>\n        <div id=\"infoDl\"></div>\n    </div>\n</div>\n<script src=\"${r\'${ctx}\'}/public/js/business/${context.javaBeanName}.js?v=${r\'${version}\'}\"></script>\n<script>\n	$(function () {\n    	${context.javaBeanName}.initGrid(\'#dataGridDg\');\n    });\n</script>\n</body>\n</html>\n\n\n', 'admin'), ('32', 'easyui-js', 'web/public/js/business', null, '${context.javaBeanName}.js', 'var ${context.javaBeanName} = function () {\n\n    var basePath = ROOT_PATH + \'${context.javaBeanNameLF}/\',\n        pagePath = ROOT_PATH + \'pages/${context.javaBeanNameLF}/\',\n        $dataGrid = null,\n        noSelectedMsg = \'请选择${table.comment}\';\n\n\n    /**\n     * 初始化数据表格\n     * @param gridId\n     */\n    function initGrid(gridId) {\n        $dataGrid = GridUtil.initDataGrid({\n            gridId: gridId,\n            url: basePath + \'paging\',\n            singleSelect: false,\n            columns: [[\n            <#list columns as column >\n            <#if column.isPk >\n                {field: \'id\', title: \'id\', hidden: false, checkbox: true},\n            <#elseif column.mybatisJdbcType == \"TINYINT\" >\n                {\n                	field: \'${column.javaFieldName}\', title: \'${column.comment}\', hidden: false, sortable: true, width: 100,\n                    formatter: function (val, row) {\n                        return row.${column.javaFieldName} == null ? \"\" : row.${column.javaFieldName}.name;\n                    }\n                },\n             <#else>\n                {field: \'${column.javaFieldName}\', title:\'${column.comment}\', hidden: false, sortable: true, width:100},\n            </#if>\n            </#list >\n                {\n                    field: \'action\', title: \'操作\',\n                    formatter: function (value, row, index) {\n                        var html = \'<a href=\"javascript:${context.javaBeanName}.edit(\' + row.id + \')\"><div class=\"btn-sml icon-edit\" title=\"修改\"></div></a>\';\n                        html += \'<a href=\"javascript:${context.javaBeanName}.info(\' + row.id + \')\"><div class=\"btn-sml icon-info\" title=\"详情\"></div></a>\';\n                        html += \'<a href=\"javascript:${context.javaBeanName}.del(\' + row.id + \')\"><div class=\"btn-sml icon-remove\" title=\"删除\"></div></a>\';\n                        return html;\n                    }\n                }\n            ]]\n        });\n    }\n\n    /**\n     * 删除${table.comment}\n     */\n    function del(id) {\n        if (id) {\n            Dialog.confirm(\'确认删除${table.comment}\', function (r) {\n                $.Ajax({\n                    url: basePath + \"delete\",\n                    data: {id: id},\n                    success: function () {\n                        Dialog.success(\"删除成功！\");\n                        reloadDataGrid();\n                    }\n                });\n            });\n        } else {\n            Dialog.warning(noSelectedMsg);\n        }\n    }\n\n\n    /**\n     * 获取当前已选择的${table.tableName}\n     * @returns {*|{js, css, dependencies}}\n     */\n    function getSelected${context.javaBeanName}() {\n        return $dataGrid.datagrid(\'getSelected\');\n    }\n\n    /**\n     * 编辑\n     */\n    function edit(id) {\n        if (id) {\n            $.Get(basePath + \'get\', {id: id}, function (data) {\n                var dlg = FormUtils.openDialog({\n                    domId: \'editDl\', //打开dialog的容器\n                    href: pagePath + \'${context.javaBeanNameLF}-edit.html\',\n                    url: basePath + \'edit\',\n                    success: function (data) {\n                        reloadDataGrid();\n                    }, //成功时候执行的方法\n                    onLoad: function () {\n                        FormUtils.setValues($(dlg).find(\'form:first\'), data.data);\n                    },\n                    title: \'修改${table.comment}\'\n                });\n            });\n        } else {\n            Dialog.warning(noSelectedMsg);\n        }\n    }\n\n    /**\n     * 刷新表格\n     */\n    function reloadDataGrid(){\n        $dataGrid.datagrid(\'reload\');\n    }\n\n\n    /**\n     * 创建${table.comment}\n     */\n    function create() {\n        FormUtils.openDialog({\n            domId: \'createDl\', //打开dialog的容器\n            href: pagePath + \'${context.javaBeanNameLF}-create.html\',\n            url: basePath + \'create\',\n            success: function (data) {\n                reloadDataGrid();\n            }, //成功时候执行的方法\n            title: \'创建${table.comment}\'\n        });\n    }\n\n    /**\n     * 详情\n     * @param id\n     */\n    function info(id){\n        if(id){\n            $.Get(basePath + \'get\', {id: id}, function (data) {\n                var dlg = FormUtils.openDialog({\n                    domId: \'infoDl\', //打开dialog的容器\n                    href: pagePath + \'${context.javaBeanNameLF}-info.html\',\n                    buttons: [{\n                        text: \'取消\',\n                        iconCls: \'icon-cancel\',\n                        handler: function () {\n                            dlg.panel(\'close\');\n                        }\n                    }],\n                    onLoad: function () {\n                        FormUtils.setValues($(dlg).find(\'form:first\'), data.data);\n                    },\n                    title: \'${table.comment}详情\'\n                });\n            });\n        }else {\n            Dialog.warning(noSelectedMsg);\n        }\n    }\n\n    /**\n     * 批量删除\n     */\n    function batchDelete() {\n        var selections = $dataGrid.datagrid(\'getSelections\');\n        if(selections && selections.length > 0){\n            Dialog.confirm(\'确认删除${table.tableName}\', function (r) {\n                var roleIds = [];\n                $.each(selections,function(i,role){\n                    roleIds.push(role.id);\n                });\n\n                $.Ajax({\n                    url: basePath + \"batchDelete\",\n                    data: {ids: roleIds},\n                    success: function () {\n                    Dialog.success(\"删除成功！\");\n                        reloadDataGrid();\n                    }\n                 });\n            });\n        } else {\n          Dialog.warning(noSelectedMsg);\n        }\n\n    }\n\n    return {\n        initGrid: initGrid,\n        create: create,\n        edit: edit,\n        del: del,\n        batchDelete:batchDelete,\n        info:info\n    }\n}();', 'admin'), ('33', 'easyui-create.html', 'web', null, '${context.javaBeanNameLF}-create.html', '<!DOCTYPE html>\n<html>\n<head>\n</head>\n<body>\n<div style=\"padding:10px 60px 20px 60px\">\n    <form id=\"createForm\" method=\"post\">\n        <table cellpadding=\"5\">\n            <#list columns as column>\n            <#if column.isPk></#if>\n                <tr>\n                    <td>${column.comment}：</td>\n                    <td><input class=\"easyui-validatebox\" name=\"${column.javaFieldName}\"\n                               data-options=\"required:true,<#if column.length &gt; 0 >validType:[\'length[0,${column.length}]\']</#if>\"/>\n                    </td>\n                </tr>\n            </#list>\n        </table>\n    </form>\n</div>\n</body>\n</html>', 'admin'), ('34', 'easyui-edit.html', 'web', null, '${context.javaBeanNameLF}-edit.html', '<!DOCTYPE html>\n<html>\n<head>\n</head>\n<body>\n<div style=\"padding:10px 60px 20px 60px\">\n    <form id=\"editForm\" method=\"post\">\n        <table cellpadding=\"5\">\n         <#list columns as column>\n             <#if column.isPk>\n             <input type=\"hidden\" name=\"${column.javaFieldName}\"/>\n             <#elseif column.columnName == \"create_time\" || column.columnName == \"update_time\" >\n             <tr>\n                 <td>${column.comment}：</td>\n                 <td>\n                    <input class=\"easyui-validatebox\" name=\"${column.javaFieldName}\" disabled/>\n                 </td>\n                 </tr>\n             <#else>\n             <tr>\n                <td>${column.comment}：</td>\n                <td>\n                   <input class=\"easyui-validatebox\" name=\"${column.javaFieldName}\"\n                               data-options=\"required:true,<#if column.length &gt; 0 >validType:[\'length[0,${column.length}]\']</#if>\"/>\n                </td>\n             </tr>\n             </#if>\n         </#list>\n        </table>\n    </form>\n</div>\n</body>\n</html>', 'admin'), ('35', 'easyui-info.html', 'web', null, '${context.javaBeanNameLF}-info.html', '<!DOCTYPE html>\n<html>\n<head>\n</head>\n<body>\n<div style=\"padding:10px 60px 20px 60px\">\n    <form id=\"infoForm\" method=\"post\">\n        <table cellpadding=\"5\">\n         <#list columns as column>\n             <#if column.isPk>\n             <input type=\"hidden\" name=\"${column.javaFieldName}\"/>\n             <#else>\n             <tr>\n                <td>${column.comment}：</td>\n                <td>\n                   <input name=\"${column.javaFieldName}\" />\n                </td>\n             </tr>\n             </#if>\n         </#list>\n        </table>\n    </form>\n</div>\n</body>\n</html>', 'admin'), ('36', 'easyio-tree-js', 'web/public/js/business', null, '${context.javaBeanName}.js', 'var ${context.javaBeanName} = function () {\n\n    var basePath = ROOT_PATH + \'${context.javaBeanNameLF}/\',\n        pagePath = ROOT_PATH + \'pages/${context.javaBeanNameLF}/\',\n        notSelectedMsg = \'请选择${table.comment}\',\n        $treeGrid = null;\n\n    /**\n     * 保存编辑后的数据\n     * @param row\n     * @param changes\n     */\n    function saveEditChanges(row, changes) {\n        var data = $.extend({}, row, changes);\n        $.Ajax({\n            container: $treeGrid,\n            url: basePath + \'edit\',\n            data: data,\n            success: function (result) {\n                Dialog.success(\'修改${table.comment}成功\');\n                $treeGrid.treegrid(\'reload\');\n            }\n        });\n    }\n\n    /**\n     * 初始化树形表格\n     * @param treeId\n     */\n    function initTreeGrid(treeId) {\n\n        $treeGrid = GridUtil.initTreeGrid({\n            gridId: treeId,\n            method: \"post\",\n            url: basePath + \'/list\',\n            idField: \'id\',\n            onBeforeEdit: function (row) {\n                if (row.lvl == 0) {\n                    Dialog.warning(\'根节点不允许编辑\')\n                    return false;\n                }\n            },\n            onAfterEdit: function (row, changes) {\n                if (changes.length > 0) {\n                    saveEditChanges(row, changes);\n                }\n            },\n            columns: [[\n            <#list columns as column >\n             <#if column.isPk >\n                {field: \'id\', title: \'id\', hidden: true}<#if column_has_next>,</#if>\n            <#elseif column.mybatisJdbcType == \"TINYINT\" >\n                {\n                	field: \'${column.javaFieldName}\', title: \'${column.comment}\', hidden: false, width: 100,\n                	formatter: function (val, row) {\n                        return row.${column.javaFieldName} == null ? \"\" : row.${column.javaFieldName}.name;\n                    }    \n                }<#if column_has_next>,</#if>\n            <#else>\n                {field: \'${column.javaFieldName}\', title:\'${column.comment}\', hidden: false, width:100}<#if column_has_next>,</#if>\n            </#if>\n            </#list >\n            ]]\n        });\n    }\n\n\n    /**\n     * 创建${table.comment}\n     */\n    function create() {\n\n        var selected = getSelected();\n        var dlg = FormUtils.openDialog({\n            domId: \'createDlg\',\n            formId: \'createForm\',\n            url: basePath + \'create\',\n            href: pagePath + \'${context.javaBeanNameLF}-create.html\',\n            title: \'添加${table.comment}\',\n            onBeforeOpen: function () {\n                if (!selected) {\n                    Dialog.warning(notSelectedMsg);\n                    return false;\n                }\n                return true;\n            },\n            success: function (data) {\n                //提交成功后重新加载grid。\n                reloadTreeGrid();\n            },\n            onLoad: function () {\n                var $form = $(\'#createDlg\').find(\'#createForm\');\n                $(\'#parentName\').text(selected.name);\n                $form.find(\'#pid\').val(selected.id);\n            }\n        });\n    }\n\n    /**\n     * 刷新表格\n     */\n    function reloadTreeGrid() {\n        $treeGrid.treegrid(\'reload\');\n    }\n\n\n    /**\n     * 获取详情\n     * @param id 资源id\n     * @param fun　回调函数\n     */\n    var get = function (id, fun) {\n        var url = basePath + \'get\';\n        var data = {\n            id: id\n        };\n        $.Get(url, data, function (result) {\n            if (result.success) {\n                if ($.isFunction(fun)) {\n                    fun(result.data);\n                }\n            }\n        });\n    };\n\n\n\n    /**\n     * 删除${table.comment}\n     */\n    var del = function () {\n        var selected = getSelected();\n        if (selected) {\n            if (selected.lvl != 0) {\n                Dialog.confirm(\'所选${table.comment}的子${table.comment}也将被删除,是否确认删除?\', function () {\n                    $.Ajax({\n                        container: $treeGrid,\n                        url: basePath + \'delete\',\n                        data: {id: selected.id},\n                        success: function () {\n                            $treeGrid.treegrid(\'reload\');\n                            Dialog.success(\'删除${table.comment}成功\');\n                        }\n                    });\n                });\n            } else {\n                Dialog.warning(\'根节点不允许被删除\');\n            }\n        } else {\n            Dialog.warning(notSelectedMsg);\n        }\n    };\n\n    /**\n     * 获取当前已选择的${table.comment}\n     * @returns {*|{js, css, dependencies}}\n     */\n    function getSelected() {\n        return $treeGrid.treegrid(\'getSelected\');\n    }\n    \n\n    /**\n     * 编辑\n     */\n    var edit = function () {\n        var selected = getSelected();\n        if (selected) {\n            $treeGrid.treegrid(\'beginEdit\', selected.id);\n        } else {\n            Dialog.warning(notSelectedMsg);\n        }\n    }\n\n    return {\n        initTreeGrid: initTreeGrid,\n        create: create,\n        del: del,\n        edit: edit\n    }\n}();', 'admin'), ('37', 'easy-tree-list.html', 'web', null, '${context.javaBeanNameLF}-list.html', '<!DOCTYPE html>\n<html>\n<head>\n</head>\n<body>\n\n<div style=\"padding:5px;height:auto\">\n    <div>\n        <a href=\"javascript:;\" class=\"easyui-linkbutton\" id=\"refreshBtn\" plain=\"true\"\n           iconCls=\"icon-standard-arrow-refresh\">刷新</a>\n        <span class=\"toolbar-item dialog-tool-separator\"></span>\n        <a href=\"javascript:;\" onclick=\"${context.javaBeanName}.create();\" class=\"easyui-linkbutton\" plain=\"true\"\n           iconCls=\"icon-add\">添加</a>\n        <a href=\"javascript:;\" onclick=\"${context.javaBeanName}.edit();\" class=\"easyui-linkbutton\" plain=\"true\"\n           iconCls=\"icon-edit\">编辑</a>\n        <a href=\"javascript:;\" class=\"easyui-linkbutton\" plain=\"true\" iconCls=\"icon-remove\"\n           onclick=\"${context.javaBeanName}.del()\">删除</a>\n    </div>\n</div>\n\n<table id=\"treeGrid\"></table>\n<div id=\"createDlg\"></div>\n\n<script src=\"${r\'${ctx}\'}/public/js/business/${context.javaBeanName}.js?v=${r\'${version}\'}\"></script>\n<script>\n    $(function () {\n        ${context.javaBeanName}.initTreeGrid(\'#treeGrid\');\n    });\n</script>\n</body>\n</html>\n\n', 'admin'), ('38', 'easy-tree-create.htm', 'web', null, '${context.javaBeanNameLF}-create.html', '<!DOCTYPE html>\n<html>\n<head>\n</head>\n<body>\n<div style=\"padding:10px 60px 20px 60px\">\n    <form id=\"createForm\" method=\"post\">\n        <input type=\"hidden\" id=\"pid\" name=\"pid\"/>\n        <table cellpadding=\"5\">\n            <tr>\n                <td>父${table.comment}:</td>\n                <td><span id=\"parentName\"></span>\n                </td>\n            </tr>\n\n            <#list columns as column>\n                <#if column.isPk></#if>\n                <tr>\n                    <td>${column.comment}：</td>\n                    <td><input class=\"easyui-validatebox\" name=\"${column.javaFieldName}\"\n                               data-options=\"required:true,<#if column.length &gt; 0 >validType:[\'length[0,${column.length}]\']</#if>\"/>\n                    </td>\n                </tr>\n            </#list>\n        </table>\n    </form>\n</div>\n</body>\n</html>', 'admin');
COMMIT;

SET FOREIGN_KEY_CHECKS = 1;
